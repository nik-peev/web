<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style>
         table {
            *border-collapse: collapse;
            border-spacing: 0;
            width: 600px;
            
        }
        table th {
            margin:5px;
            position:relative;
            border: 1px solid black;
            width:500px;
        }
        td {
            border: 1px solid black;
            width: 100px;   
        }
    </style>
</head>
<body>
    <div id="wrapper">
        <table id="table">
        </table>
    </div>
    <script src="script.js"></script>
    <script>
        //The styles of the table don't work properly but all javascript functionality is applied according to the tasks.

        //Task 1, 2, 3
        var newTable = controls.getGridView("#table");
        var head = ["Name", "Location", "Total Students", "Speciality"];
        var args = ["Telerik", "Sofia", "500", "IT"];
        var args1 = ["PMG", "</br>London", 2323, "Authority"];
        var args2 = ["SADF", "Paris", 234423, "PPardy"]
        newTable.addHeader(head);
        newTable.addRow(args);
        newTable.addRow(args);
        newTable.addRow(["sadf", 2014, 100, "sfdfdffgs"]);
        var nextTable = newTable.addRow(args);
        nextTable.addHeader(head);
        nextTable.addRow(args1);
        nextTable.addRow(args1);
        var innerTable = nextTable.addRow(args);
        innerTable.addHeader(head);
        innerTable.addRow(args2);
        innerTable.addRow(args2);
        var innerTable2 = innerTable.addRow(args2);
        innerTable2.addHeader(args2);
        innerTable2.addRow(args2);
        innerTable2.addRow(args2);
        innerTable2.addRow(args2);
        newTable.render();
        innerTable.addRow(args);
        newTable.render();

        //task4
        var student1 = new Student("Bill", "Gates", 5, 6);
        var student2 = new Student("Bill", "Clinton", 5, 5);
        var setOfStudents = [student1, student2];
        var course1 = new Course("Computer Science", 2014, 100, setOfStudents);
        var course2 = new Course("Rocket Science", 2015, 200, setOfStudents);
        var setOfCourses = [course1, course2];
        var firstSchool = new School("Иван Вазов", "Bulgaria", 2, 2, setOfCourses);

        //school repository
        var schoolRepository = schoolDataRepository.schoolRepository();
        //saving data object to repository
        schoolRepository.save("student1", student1);
        schoolRepository.save("school", firstSchool);
        //loading data from repository
        var stud = schoolRepository.load("student1");
        var school1 = schoolRepository.load("school")
        console.log(stud);
        console.log(school1);

        //task 5 
        //saving all dom elements from the gridView function to schoolrepository
        var serial = newTable.getGridViewData();
        schoolRepository.save("Tables", serial);
        // restoring all dom elements from schoolrepository
        var restored = schoolRepository.load("Tables");
        console.log(serial);
        console.log(restored);
        console.log(localStorage);
    </script>
</body>
</html>
